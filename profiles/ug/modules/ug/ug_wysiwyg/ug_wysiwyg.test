<?php

/**
 * @file
 * Tests for ug_wysiwyg.module.
 */

/**
 * Test UG Wysiwyg feature.
 */
class UGWysiwygTestCase extends DrupalWebTestCase {

  public static function getInfo() {
    return array(
      'name' => 'UG Wysiwyg',
      'description' => 'Test the UG Wysiwyg feature.',
      'group' => 'UG',
    );
  }

  function setUp() {
    $this->profile = 'ug';
    parent::setup('ug_wysiwyg');
  }

  /**
   * Test filtered HTML.
   */
  function testFilteredHTML() {
    $gattr = 'accesskey class contenteditable dir hidden id lang spellcheck style tabindex title translate';
    $filter = 'filtered_html';
    $tests = array(
      /* Document metadata */
      '<html />' => array('html' => FALSE),
      '<title />' => array('title' => FALSE),
      '<base />' => array('base' => FALSE),
      '<link />' => array('link' => FALSE),
      '<meta />' => array('meta' => FALSE),
      '<style />' => array('style' => FALSE),

      /* Sections */
      '<body />' => array('body' => FALSE),
      '<article />' => array('article' => FALSE),
      '<section />' => array('section' => FALSE),
      '<nav />' => array('nav' => FALSE),
      '<aside />' => array('aside' => FALSE),
      '<h1 />' => array('h1' => FALSE),
      '<h2 />' => array('h2' => TRUE),
      '<h3 />' => array('h3' => TRUE),
      '<h4 />' => array('h4' => TRUE),
      '<h5 />' => array('h5' => TRUE),
      '<h6 />' => array('h6' => TRUE),
      '<header />' => array('header' => FALSE),
      '<footer />' => array('footer' => FALSE),
      '<address />' => array('address' => FALSE),

      /* Grouping content */
      '<p />' => array('p' => TRUE),
      '<hr />' => array('hr' => TRUE),
      '<pre />' => array('pre' => TRUE),
      '<blockquote cite/>' => array(
        'blockquote' => TRUE,
        'cite' => TRUE,
      ),
      '<ol reversed start type />' => array(
        'ol' => TRUE,
        'reversed' => TRUE,
        'start' => TRUE,
        'type' => TRUE,
      ),
      '<ul />' => array('ul' => TRUE),
      '<li value />' => array(
        'li' => TRUE,
        'value' => TRUE,
      ),
      '<dl />' => array('dl' => TRUE),
      '<dt />' => array('dt' => TRUE),
      '<dd />' => array('dd' => TRUE),
      '<figure />' => array('figure' => TRUE),
      '<figcaption />' => array('figcaption' => TRUE),
      '<div />' => array('div' => TRUE),
      '<main />' => array('main' => FALSE),

      /* Text-level semantics */
      '<a href target download rel hreflang type />' => array(
        'a' => TRUE,
        'href' => TRUE,
        'target' => TRUE,
        'download' => TRUE,
        'rel' => TRUE,
        'hreflang' => TRUE,
        'type' => TRUE,
      ),
      '<em />' => array('em' => TRUE),
      '<strong />' => array('strong' => TRUE),
      '<small />' => array('small' => FALSE),
      '<s />' => array('s' => TRUE),
      '<cite />' => array('cite' => TRUE),
      '<q />' => array('q' => TRUE),
      '<dfn />' => array('dfn' => TRUE),
      '<abbr />' => array('abbr' => TRUE),
      '<data value />' => array('data' => TRUE, 'value' => TRUE),
      '<time datetime />' => array('time' => TRUE, 'datetime' => TRUE),
      '<code />' => array('code' => TRUE),
      '<var />' => array('var' => TRUE),
      '<samp />' => array('samp' => TRUE),
      '<kbd />' => array('kbd' => TRUE),
      '<sub />' => array('sub' => TRUE),
      '<sup />' => array('sup' => TRUE),
      '<i />' => array('i' => FALSE),
      '<b />' => array('b' => FALSE),
      '<u />' => array('u' => FALSE),
      '<mark />' => array('mark' => TRUE),
      '<ruby />' => array('ruby' => TRUE),
      '<rb />' => array('rb' => TRUE),
      '<rt />' => array('rt' => TRUE),
      '<rtc />' => array('rtc' => TRUE),
      '<rp />' => array('rp' => TRUE),
      '<bdi />' => array('bdi' => TRUE),
      '<bdo />' => array('bdo' => TRUE),
      '<span />' => array('span' => FALSE),
      '<br />' => array('br' => TRUE),
      '<wbr />' => array('wbr' => FALSE),

      /* Edits */
      '<ins cite datetime />' => array(
        'ins' => TRUE,
        'cite' => TRUE,
        'datetime' => TRUE,
      ),
      '<del cite datetime />' => array(
        'del' => TRUE,
        'cite' => TRUE,
        'datetime' => TRUE,
      ),

      /* Embedded content */
      '<img alt src crossorigin usemap ismap width height/>' => array(
        'img' => TRUE,
        'alt' => TRUE,
        'src' => TRUE,
        'crossorigin' => TRUE,
        'usemap' => FALSE,
        'ismap' => FALSE,
        'width' => FALSE,
        'height' => FALSE,
      ),
      '<iframe />' => array('iframe' => FALSE),
      '<embed />' => array('embed' => FALSE),
      '<object />' => array('object' => FALSE),
      '<param />' => array('param' => FALSE),
      '<video />' => array('video' => FALSE),
      '<audio />' => array('audio' => FALSE),
      '<source />' => array('source' => FALSE),
      '<track />' => array('track' => FALSE),
      '<map />' => array('map' => FALSE),
      '<area />' => array('area' => FALSE),

      /* Tabular data */
      '<table border sortable/>' => array(
        'table' => TRUE,
        'border' => FALSE,
        'sortable' => FALSE,
      ),
      '<caption align />' => array(
        'caption' => TRUE,
        'align' => FALSE,
      ),
      '<colgroup />' => array('colgroup' => TRUE),
      '<col />' => array('col' => TRUE),
      '<tbody />' => array('tbody' => TRUE),
      '<thead />' => array('thead' => TRUE),
      '<tfoot />' => array('tfoot' => TRUE),
      '<tr />' => array('tr' => TRUE),
      '<td colspan rowspan headers/>' => array(
        'td' => TRUE,
        'colspan' => TRUE,
        'rowspan' => TRUE,
        'headers' => FALSE,
      ),
      '<th colspan rowspan headers scope abbr sorted/>' => array(
        'th' => TRUE,
        'colspan' => TRUE,
        'rowspan' => TRUE,
        'headers' => TRUE,
        'scope' => TRUE,
        'abbr' => TRUE,
        'sorted' => TRUE,
      ),

      /* Forms */
      '<form />' => array('form' => FALSE),
      '<label />' => array('label' => FALSE),
      '<input />' => array('input' => FALSE),
      '<button />' => array('button' => FALSE),
      '<select />' => array('select' => FALSE),
      '<datalist />' => array('datalist' => FALSE),
      '<optgroup />' => array('optgroup' => FALSE),
      '<option />' => array('option' => FALSE),
      '<textarea />' => array('textarea' => FALSE),
      '<keygen />' => array('keygen' => FALSE),
      '<output />' => array('output' => FALSE),
      '<progress />' => array('progress' => FALSE),
      '<meter />' => array('meter' => FALSE),
      '<fieldset />' => array('fieldset' => FALSE),
      '<legend />' => array('legend' => FALSE),

      /* Scripting */
      '<script />' => array('script' => FALSE),
      '<noscript />' => array('noscript' => FALSE),
      '<template />' => array('template' => FALSE),
      '<canvas />' => array('canvas' => FALSE),

      /* Obsolete elements (https://www.w3.org/TR/html5-diff/#obsolete-elements) */
      '<basefont />' => array('basefont' => FALSE),
      '<big />' => array('big' => FALSE),
      '<center />' => array('center' => FALSE),
      '<font />' => array('font' => FALSE),
      '<strike />' => array('strike' => FALSE),
      '<tt />' => array('tt' => FALSE),
      '<frame />' => array('frame' => FALSE),
      '<frameset />' => array('frameset' => FALSE),
      '<noframes />' => array('noframes' => FALSE),
      '<acronym />' => array('acronym' => FALSE),
      '<applet />' => array('applet' => FALSE),
      '<isindex />' => array('isindex' => FALSE),
      '<dir />' => array('dir' => FALSE),

      /* Obsolete attributes (https://www.w3.org/TR/html5-diff/#obsolete-attributes) */
      '<a rev charset />' => array('rev' => FALSE, 'charset' => FALSE),
      '<link rev charset />' => array('rev' => FALSE, 'charset' => FALSE),
      '<a shape coords />' => array('shape' => FALSE, 'coords' => FALSE),
      '<iframe longdesc />' => array('longdesc' => FALSE),
      '<link target />' => array('target' => FALSE),
      '<area nohref />' => array('nohref' => FALSE),
      '<head profile />' => array('profile' => FALSE),
      '<html version />' => array('version' => FALSE),
      '<img name />' => array('name' => FALSE),
      '<meta scheme />' => array('scheme' => FALSE),
      '<object archive classid codebase codetype declare standby />' => array(
        'archive' => FALSE,
        'classid' => FALSE,
        'codebase' => FALSE,
        'codetype' => FALSE,
        'declare' => FALSE,
        'standby' => FALSE,
      ),
      '<param valuetype type />' => array(
        'valuetype' => FALSE,
        'type' => FALSE,
      ),
      '<td axis />' => array('axis' => FALSE),
      '<td axis />' => array('axis' => FALSE),
      '<td abbr scope />' => array('abbr' => FALSE, 'scope' => FALSE),
      '<table summary />' => array('summary' => FALSE),
      '<form accept />' => array('accept' => FALSE),
      '<input usemap />' => array('usemap' => FALSE),

      /* Presentational attributes */
      '<caption align />' => array('align' => FALSE),
      '<iframe align />' => array('align' => FALSE),
      '<img align />' => array('align' => FALSE),
      '<input align />' => array('align' => FALSE),
      '<object align />' => array('align' => FALSE),
      '<legend align />' => array('align' => FALSE),
      '<table align />' => array('align' => FALSE),
      '<hr align />' => array('align' => FALSE),
      '<div align />' => array('align' => FALSE),
      '<h1 align />' => array('align' => FALSE),
      '<h2 align />' => array('align' => FALSE),
      '<h3 align />' => array('align' => FALSE),
      '<h4 align />' => array('align' => FALSE),
      '<h5 align />' => array('align' => FALSE),
      '<h6 align />' => array('align' => FALSE),
      '<p align />' => array('align' => FALSE),
      '<col align />' => array('align' => FALSE),
      '<colgroup align />' => array('align' => FALSE),
      '<tbody align />' => array('align' => FALSE),
      '<td align />' => array('align' => FALSE),
      '<tfoot align />' => array('align' => FALSE),
      '<th align />' => array('align' => FALSE),
      '<thead align />' => array('align' => FALSE),
      '<tr align />' => array('align' => FALSE),
      '<body alink link text vlink />' => array(
        'alink' => FALSE,
        'link' => FALSE,
        'text' => FALSE,
        'vlink' => FALSE,
      ),
      '<body background />' => array('background' => FALSE),
      '<table bgcolor />' => array('bgcolor' => FALSE),
      '<tr bgcolor />' => array('bgcolor' => FALSE),
      '<td bgcolor />' => array('bgcolor' => FALSE),
      '<th bgcolor />' => array('bgcolor' => FALSE),
      '<body bgcolor />' => array('bgcolor' => FALSE),
      '<object border />' => array('border' => FALSE),
      '<table cellpadding cellspacing />' => array(
        'cellpadding' => FALSE,
        'cellspacing' => FALSE,
      ),
      '<col char charoff />' => array('char' => FALSE, 'charoff' => FALSE),
      '<colgroup char charoff />' => array('char' => FALSE, 'charoff' => FALSE),
      '<tbody char charoff />' => array('char' => FALSE, 'charoff' => FALSE),
      '<td char charoff />' => array('char' => FALSE, 'charoff' => FALSE),
      '<tfoot char charoff />' => array('char' => FALSE, 'charoff' => FALSE),
      '<th char charoff />' => array('char' => FALSE, 'charoff' => FALSE),
      '<thead char charoff />' => array('char' => FALSE, 'charoff' => FALSE),
      '<tr char charoff />' => array('char' => FALSE, 'charoff' => FALSE),
      '<br clear />' => array('clear' => FALSE),
      '<dl compact />' => array('compact' => FALSE),
      '<ol compact />' => array('compact' => FALSE),
      '<ul compact />' => array('compact' => FALSE),
      '<table frame />' => array('frame' => FALSE),
      '<iframe frameborder />' => array('frameborder' => FALSE),
      '<td height />' => array('height' => FALSE),
      '<th height />' => array('height' => FALSE),
      '<img hspace vspace />' => array('hspace' => FALSE, 'vspace' => FALSE),
      '<object hspace vspace />' => array('hspace' => FALSE, 'vspace' => FALSE),
      '<iframe marginheight marginwidth />' => array(
        'marginheight' => FALSE, 'marginwidth' => FALSE
      ),
      '<hr noshade />' => array('noshade' => FALSE),
      '<td nowrap />' => array('nowrap' => FALSE),
      '<th nowrap />' => array('nowrap' => FALSE),
      '<table rules />' => array('rules' => FALSE),
      '<iframe scrolling />' => array('scrolling' => FALSE),
      '<hr size />' => array('size' => FALSE),
      '<li type />' => array('type' => FALSE),
      '<ul type />' => array('type' => FALSE),
      '<col valign />' => array('valign' => FALSE),
      '<colgroup valign />' => array('valign' => FALSE),
      '<tbody valign />' => array('valign' => FALSE),
      '<td valign />' => array('valign' => FALSE),
      '<tfoot valign />' => array('valign' => FALSE),
      '<th valign />' => array('valign' => FALSE),
      '<thead valign />' => array('valign' => FALSE),
      '<tr valign />' => array('valign' => FALSE),
      '<hr width />' => array('width' => FALSE),
      '<table width />' => array('width' => FALSE),
      '<td width />' => array('width' => FALSE),
      '<th width />' => array('width' => FALSE),
      '<col width />' => array('width' => FALSE),
      '<colgroup width />' => array('width' => FALSE),
      '<pre width />' => array('width' => FALSE),
      '<img border />' => array('border' => FALSE),
      '<script language />' => array('language' => FALSE),
      '<a name />' => array('name' => FALSE),

      /* Bootstrap 3.0.2 */
      '<div class="container" />' => array('container' => TRUE),
      '<div class="row" />' => array('row' => TRUE),
      '<div class="col-xs-1 />' => array('col-xs-1' => TRUE),
      '<div class="col-xs-2 />' => array('col-xs-2' => TRUE),
      '<div class="col-xs-3 />' => array('col-xs-3' => TRUE),
      '<div class="col-xs-4 />' => array('col-xs-4' => TRUE),
      '<div class="col-xs-5 />' => array('col-xs-5' => TRUE),
      '<div class="col-xs-6 />' => array('col-xs-6' => TRUE),
      '<div class="col-xs-7 />' => array('col-xs-7' => TRUE),
      '<div class="col-xs-8 />' => array('col-xs-8' => TRUE),
      '<div class="col-xs-9 />' => array('col-xs-9' => TRUE),
      '<div class="col-xs-10 />' => array('col-xs-10' => TRUE),
      '<div class="col-xs-11 />' => array('col-xs-11' => TRUE),
      '<div class="col-xs-12 />' => array('col-xs-12' => TRUE),
      '<div class="col-sm-1 />' => array('col-sm-1' => TRUE),
      '<div class="col-sm-2 />' => array('col-sm-2' => TRUE),
      '<div class="col-sm-3 />' => array('col-sm-3' => TRUE),
      '<div class="col-sm-4 />' => array('col-sm-4' => TRUE),
      '<div class="col-sm-5 />' => array('col-sm-5' => TRUE),
      '<div class="col-sm-6 />' => array('col-sm-6' => TRUE),
      '<div class="col-sm-7 />' => array('col-sm-7' => TRUE),
      '<div class="col-sm-8 />' => array('col-sm-8' => TRUE),
      '<div class="col-sm-9 />' => array('col-sm-9' => TRUE),
      '<div class="col-sm-10 />' => array('col-sm-10' => TRUE),
      '<div class="col-sm-11 />' => array('col-sm-11' => TRUE),
      '<div class="col-sm-12 />' => array('col-sm-12' => TRUE),
      '<div class="col-md-1 />' => array('col-md-1' => TRUE),
      '<div class="col-md-2 />' => array('col-md-2' => TRUE),
      '<div class="col-md-3 />' => array('col-md-3' => TRUE),
      '<div class="col-md-4 />' => array('col-md-4' => TRUE),
      '<div class="col-md-5 />' => array('col-md-5' => TRUE),
      '<div class="col-md-6 />' => array('col-md-6' => TRUE),
      '<div class="col-md-7 />' => array('col-md-7' => TRUE),
      '<div class="col-md-8 />' => array('col-md-8' => TRUE),
      '<div class="col-md-9 />' => array('col-md-9' => TRUE),
      '<div class="col-md-10 />' => array('col-md-10' => TRUE),
      '<div class="col-md-11 />' => array('col-md-11' => TRUE),
      '<div class="col-md-12 />' => array('col-md-12' => TRUE),
      '<div class="col-lg-1 />' => array('col-lg-1' => TRUE),
      '<div class="col-lg-2 />' => array('col-lg-2' => TRUE),
      '<div class="col-lg-3 />' => array('col-lg-3' => TRUE),
      '<div class="col-lg-4 />' => array('col-lg-4' => TRUE),
      '<div class="col-lg-5 />' => array('col-lg-5' => TRUE),
      '<div class="col-lg-6 />' => array('col-lg-6' => TRUE),
      '<div class="col-lg-7 />' => array('col-lg-7' => TRUE),
      '<div class="col-lg-8 />' => array('col-lg-8' => TRUE),
      '<div class="col-lg-9 />' => array('col-lg-9' => TRUE),
      '<div class="col-lg-10 />' => array('col-lg-10' => TRUE),
      '<div class="col-lg-11 />' => array('col-lg-11' => TRUE),
      '<div class="col-lg-12 />' => array('col-lg-12' => TRUE),
      '<div class="visible-xs" />' => array('visible-xs' => TRUE),
      '<div class="visible-sm" />' => array('visible-sm' => TRUE),
      '<div class="visible-md" />' => array('visible-md' => TRUE),
      '<div class="visible-lg" />' => array('visible-lg' => TRUE),
      '<div class="col-xs-offset-1" />' => array('col-xs-offset-1' => TRUE),
      '<div class="col-xs-offset-2" />' => array('col-xs-offset-2' => TRUE),
      '<div class="col-xs-offset-3" />' => array('col-xs-offset-3' => TRUE),
      '<div class="col-xs-offset-4" />' => array('col-xs-offset-4' => TRUE),
      '<div class="col-xs-offset-5" />' => array('col-xs-offset-5' => TRUE),
      '<div class="col-xs-offset-6" />' => array('col-xs-offset-6' => TRUE),
      '<div class="col-xs-offset-7" />' => array('col-xs-offset-7' => TRUE),
      '<div class="col-xs-offset-8" />' => array('col-xs-offset-8' => TRUE),
      '<div class="col-xs-offset-9" />' => array('col-xs-offset-9' => TRUE),
      '<div class="col-xs-offset-10" />' => array('col-xs-offset-10' => TRUE),
      '<div class="col-xs-offset-11" />' => array('col-xs-offset-11' => TRUE),
      '<div class="col-xs-offset-12" />' => array('col-xs-offset-12' => TRUE),
      '<div class="col-sm-offset-1" />' => array('col-sm-offset-1' => TRUE),
      '<div class="col-sm-offset-2" />' => array('col-sm-offset-2' => TRUE),
      '<div class="col-sm-offset-3" />' => array('col-sm-offset-3' => TRUE),
      '<div class="col-sm-offset-4" />' => array('col-sm-offset-4' => TRUE),
      '<div class="col-sm-offset-5" />' => array('col-sm-offset-5' => TRUE),
      '<div class="col-sm-offset-6" />' => array('col-sm-offset-6' => TRUE),
      '<div class="col-sm-offset-7" />' => array('col-sm-offset-7' => TRUE),
      '<div class="col-sm-offset-8" />' => array('col-sm-offset-8' => TRUE),
      '<div class="col-sm-offset-9" />' => array('col-sm-offset-9' => TRUE),
      '<div class="col-sm-offset-10" />' => array('col-sm-offset-10' => TRUE),
      '<div class="col-sm-offset-11" />' => array('col-sm-offset-11' => TRUE),
      '<div class="col-sm-offset-12" />' => array('col-sm-offset-12' => TRUE),
      '<div class="col-md-offset-1" />' => array('col-md-offset-1' => TRUE),
      '<div class="col-md-offset-2" />' => array('col-md-offset-2' => TRUE),
      '<div class="col-md-offset-3" />' => array('col-md-offset-3' => TRUE),
      '<div class="col-md-offset-4" />' => array('col-md-offset-4' => TRUE),
      '<div class="col-md-offset-5" />' => array('col-md-offset-5' => TRUE),
      '<div class="col-md-offset-6" />' => array('col-md-offset-6' => TRUE),
      '<div class="col-md-offset-7" />' => array('col-md-offset-7' => TRUE),
      '<div class="col-md-offset-8" />' => array('col-md-offset-8' => TRUE),
      '<div class="col-md-offset-9" />' => array('col-md-offset-9' => TRUE),
      '<div class="col-md-offset-10" />' => array('col-md-offset-10' => TRUE),
      '<div class="col-md-offset-11" />' => array('col-md-offset-11' => TRUE),
      '<div class="col-md-offset-12" />' => array('col-md-offset-12' => TRUE),
      '<div class="col-lg-offset-1" />' => array('col-lg-offset-1' => TRUE),
      '<div class="col-lg-offset-2" />' => array('col-lg-offset-2' => TRUE),
      '<div class="col-lg-offset-3" />' => array('col-lg-offset-3' => TRUE),
      '<div class="col-lg-offset-4" />' => array('col-lg-offset-4' => TRUE),
      '<div class="col-lg-offset-5" />' => array('col-lg-offset-5' => TRUE),
      '<div class="col-lg-offset-6" />' => array('col-lg-offset-6' => TRUE),
      '<div class="col-lg-offset-7" />' => array('col-lg-offset-7' => TRUE),
      '<div class="col-lg-offset-8" />' => array('col-lg-offset-8' => TRUE),
      '<div class="col-lg-offset-9" />' => array('col-lg-offset-9' => TRUE),
      '<div class="col-lg-offset-10" />' => array('col-lg-offset-10' => TRUE),
      '<div class="col-lg-offset-11" />' => array('col-lg-offset-11' => TRUE),
      '<div class="col-lg-offset-12" />' => array('col-lg-offset-12' => TRUE),
      '<div class="col-lg-offset-1" />' => array('col-lg-offset-1' => TRUE),
      '<div class="col-lg-offset-2" />' => array('col-lg-offset-2' => TRUE),
      '<div class="col-lg-offset-3" />' => array('col-lg-offset-3' => TRUE),
      '<div class="col-lg-offset-4" />' => array('col-lg-offset-4' => TRUE),
      '<div class="col-lg-offset-5" />' => array('col-lg-offset-5' => TRUE),
      '<div class="col-lg-offset-6" />' => array('col-lg-offset-6' => TRUE),
      '<div class="col-lg-offset-7" />' => array('col-lg-offset-7' => TRUE),
      '<div class="col-lg-offset-8" />' => array('col-lg-offset-8' => TRUE),
      '<div class="col-lg-offset-9" />' => array('col-lg-offset-9' => TRUE),
      '<div class="col-lg-offset-10" />' => array('col-lg-offset-10' => TRUE),
      '<div class="col-lg-offset-11" />' => array('col-lg-offset-11' => TRUE),
      '<div class="col-lg-offset-12" />' => array('col-lg-offset-12' => TRUE),
      '<div class="col-xs-push-1" />' => array('col-xs-push-1' => TRUE),
      '<div class="col-xs-push-2" />' => array('col-xs-push-2' => TRUE),
      '<div class="col-xs-push-3" />' => array('col-xs-push-3' => TRUE),
      '<div class="col-xs-push-4" />' => array('col-xs-push-4' => TRUE),
      '<div class="col-xs-push-5" />' => array('col-xs-push-5' => TRUE),
      '<div class="col-xs-push-6" />' => array('col-xs-push-6' => TRUE),
      '<div class="col-xs-push-7" />' => array('col-xs-push-7' => TRUE),
      '<div class="col-xs-push-8" />' => array('col-xs-push-8' => TRUE),
      '<div class="col-xs-push-9" />' => array('col-xs-push-9' => TRUE),
      '<div class="col-xs-push-10" />' => array('col-xs-push-10' => TRUE),
      '<div class="col-xs-push-11" />' => array('col-xs-push-11' => TRUE),
      '<div class="col-xs-push-12" />' => array('col-xs-push-12' => TRUE),
      '<div class="col-sm-push-1" />' => array('col-sm-push-1' => TRUE),
      '<div class="col-sm-push-2" />' => array('col-sm-push-2' => TRUE),
      '<div class="col-sm-push-3" />' => array('col-sm-push-3' => TRUE),
      '<div class="col-sm-push-4" />' => array('col-sm-push-4' => TRUE),
      '<div class="col-sm-push-5" />' => array('col-sm-push-5' => TRUE),
      '<div class="col-sm-push-6" />' => array('col-sm-push-6' => TRUE),
      '<div class="col-sm-push-7" />' => array('col-sm-push-7' => TRUE),
      '<div class="col-sm-push-8" />' => array('col-sm-push-8' => TRUE),
      '<div class="col-sm-push-9" />' => array('col-sm-push-9' => TRUE),
      '<div class="col-sm-push-10" />' => array('col-sm-push-10' => TRUE),
      '<div class="col-sm-push-11" />' => array('col-sm-push-11' => TRUE),
      '<div class="col-sm-push-12" />' => array('col-sm-push-12' => TRUE),
      '<div class="col-md-push-1" />' => array('col-md-push-1' => TRUE),
      '<div class="col-md-push-2" />' => array('col-md-push-2' => TRUE),
      '<div class="col-md-push-3" />' => array('col-md-push-3' => TRUE),
      '<div class="col-md-push-4" />' => array('col-md-push-4' => TRUE),
      '<div class="col-md-push-5" />' => array('col-md-push-5' => TRUE),
      '<div class="col-md-push-6" />' => array('col-md-push-6' => TRUE),
      '<div class="col-md-push-7" />' => array('col-md-push-7' => TRUE),
      '<div class="col-md-push-8" />' => array('col-md-push-8' => TRUE),
      '<div class="col-md-push-9" />' => array('col-md-push-9' => TRUE),
      '<div class="col-md-push-10" />' => array('col-md-push-10' => TRUE),
      '<div class="col-md-push-11" />' => array('col-md-push-11' => TRUE),
      '<div class="col-md-push-12" />' => array('col-md-push-12' => TRUE),
      '<div class="col-lg-push-1" />' => array('col-lg-push-1' => TRUE),
      '<div class="col-lg-push-2" />' => array('col-lg-push-2' => TRUE),
      '<div class="col-lg-push-3" />' => array('col-lg-push-3' => TRUE),
      '<div class="col-lg-push-4" />' => array('col-lg-push-4' => TRUE),
      '<div class="col-lg-push-5" />' => array('col-lg-push-5' => TRUE),
      '<div class="col-lg-push-6" />' => array('col-lg-push-6' => TRUE),
      '<div class="col-lg-push-7" />' => array('col-lg-push-7' => TRUE),
      '<div class="col-lg-push-8" />' => array('col-lg-push-8' => TRUE),
      '<div class="col-lg-push-9" />' => array('col-lg-push-9' => TRUE),
      '<div class="col-lg-push-10" />' => array('col-lg-push-10' => TRUE),
      '<div class="col-lg-push-11" />' => array('col-lg-push-11' => TRUE),
      '<div class="col-lg-push-12" />' => array('col-lg-push-12' => TRUE),
      '<div class="col-xs-pull-1" />' => array('col-xs-pull-1' => TRUE),
      '<div class="col-xs-pull-2" />' => array('col-xs-pull-2' => TRUE),
      '<div class="col-xs-pull-3" />' => array('col-xs-pull-3' => TRUE),
      '<div class="col-xs-pull-4" />' => array('col-xs-pull-4' => TRUE),
      '<div class="col-xs-pull-5" />' => array('col-xs-pull-5' => TRUE),
      '<div class="col-xs-pull-6" />' => array('col-xs-pull-6' => TRUE),
      '<div class="col-xs-pull-7" />' => array('col-xs-pull-7' => TRUE),
      '<div class="col-xs-pull-8" />' => array('col-xs-pull-8' => TRUE),
      '<div class="col-xs-pull-9" />' => array('col-xs-pull-9' => TRUE),
      '<div class="col-xs-pull-10" />' => array('col-xs-pull-10' => TRUE),
      '<div class="col-xs-pull-11" />' => array('col-xs-pull-11' => TRUE),
      '<div class="col-xs-pull-12" />' => array('col-xs-pull-12' => TRUE),
      '<div class="col-sm-pull-1" />' => array('col-sm-pull-1' => TRUE),
      '<div class="col-sm-pull-2" />' => array('col-sm-pull-2' => TRUE),
      '<div class="col-sm-pull-3" />' => array('col-sm-pull-3' => TRUE),
      '<div class="col-sm-pull-4" />' => array('col-sm-pull-4' => TRUE),
      '<div class="col-sm-pull-5" />' => array('col-sm-pull-5' => TRUE),
      '<div class="col-sm-pull-6" />' => array('col-sm-pull-6' => TRUE),
      '<div class="col-sm-pull-7" />' => array('col-sm-pull-7' => TRUE),
      '<div class="col-sm-pull-8" />' => array('col-sm-pull-8' => TRUE),
      '<div class="col-sm-pull-9" />' => array('col-sm-pull-9' => TRUE),
      '<div class="col-sm-pull-10" />' => array('col-sm-pull-10' => TRUE),
      '<div class="col-sm-pull-11" />' => array('col-sm-pull-11' => TRUE),
      '<div class="col-sm-pull-12" />' => array('col-sm-pull-12' => TRUE),
      '<div class="col-md-pull-1" />' => array('col-md-pull-1' => TRUE),
      '<div class="col-md-pull-2" />' => array('col-md-pull-2' => TRUE),
      '<div class="col-md-pull-3" />' => array('col-md-pull-3' => TRUE),
      '<div class="col-md-pull-4" />' => array('col-md-pull-4' => TRUE),
      '<div class="col-md-pull-5" />' => array('col-md-pull-5' => TRUE),
      '<div class="col-md-pull-6" />' => array('col-md-pull-6' => TRUE),
      '<div class="col-md-pull-7" />' => array('col-md-pull-7' => TRUE),
      '<div class="col-md-pull-8" />' => array('col-md-pull-8' => TRUE),
      '<div class="col-md-pull-9" />' => array('col-md-pull-9' => TRUE),
      '<div class="col-md-pull-10" />' => array('col-md-pull-10' => TRUE),
      '<div class="col-md-pull-11" />' => array('col-md-pull-11' => TRUE),
      '<div class="col-md-pull-12" />' => array('col-md-pull-12' => TRUE),
      '<div class="col-lg-pull-1" />' => array('col-lg-pull-1' => TRUE),
      '<div class="col-lg-pull-2" />' => array('col-lg-pull-2' => TRUE),
      '<div class="col-lg-pull-3" />' => array('col-lg-pull-3' => TRUE),
      '<div class="col-lg-pull-4" />' => array('col-lg-pull-4' => TRUE),
      '<div class="col-lg-pull-5" />' => array('col-lg-pull-5' => TRUE),
      '<div class="col-lg-pull-6" />' => array('col-lg-pull-6' => TRUE),
      '<div class="col-lg-pull-7" />' => array('col-lg-pull-7' => TRUE),
      '<div class="col-lg-pull-8" />' => array('col-lg-pull-8' => TRUE),
      '<div class="col-lg-pull-9" />' => array('col-lg-pull-9' => TRUE),
      '<div class="col-lg-pull-10" />' => array('col-lg-pull-10' => TRUE),
      '<div class="col-lg-pull-11" />' => array('col-lg-pull-11' => TRUE),
      '<div class="col-lg-pull-12" />' => array('col-lg-pull-12' => TRUE),
      '<div class="small" />' => array('small' => TRUE),
      '<p class="lead" />' => array('lead' => TRUE),
      '<p class="text-left" />' => array('text-left' => TRUE),
      '<p class="text-center" />' => array('text-center' => TRUE),
      '<p class="text-right" />' => array('text-right' => TRUE),
      '<p class="text-muted" />' => array('text-muted' => TRUE),
      '<p class="text-primary" />' => array('text-primary' => TRUE),
      '<p class="text-success" />' => array('text-success' => TRUE),
      '<p class="text-info" />' => array('text-info' => TRUE),
      '<p class="text-warning" />' => array('text-warning' => TRUE),
      '<p class="text-danger" />' => array('text-danger' => TRUE),
      '<abbr class="initialism" />' => array('initialism' => TRUE),
      '<blockquote class="pull-right" />' => array('pull-right' => TRUE),
      '<ul class="list-unstyled" />' => array('list-unstyled' => TRUE),
      '<ul class="list-inline" />' => array('list-inline' => TRUE),
      '<dl class="dl-horizontal" />' => array('dl-horizontal' => TRUE),
      '<pre class="pre-scrollable" />' => array('pre-scrollable' => TRUE),
      '<table class="table" />' => array('table' => TRUE),
      '<table class="table-striped" />' => array('table-striped' => TRUE),
      '<table class="table-bordered" />' => array('table-bordered' => TRUE),
      '<table class="table-hover" />' => array('table-hover' => TRUE),
      '<table class="table-condensed" />' => array('table-condensed' => TRUE),
      '<table class="table-responsive" />' => array('table-responsive' => TRUE),
      '<tr class="active" />' => array('active' => TRUE),
      '<tr class="success" />' => array('success' => TRUE),
      '<tr class="warning" />' => array('warning' => TRUE),
      '<tr class="danger" />' => array('danger' => TRUE),
      '<td class="active" />' => array('active' => TRUE),
      '<td class="success" />' => array('success' => TRUE),
      '<td class="warning" />' => array('warning' => TRUE),
      '<td class="danger" />' => array('danger' => TRUE),
      '<th class="active" />' => array('active' => TRUE),
      '<th class="success" />' => array('success' => TRUE),
      '<th class="warning" />' => array('warning' => TRUE),
      '<th class="danger" />' => array('danger' => TRUE),
      '<a class="btn" />' => array('btn' => TRUE),
      '<a class="btn-default" />' => array('btn-default' => TRUE),
      '<a class="btn-primary" />' => array('btn-primary' => TRUE),
      '<a class="btn-success" />' => array('btn-success' => TRUE),
      '<a class="btn-info" />' => array('btn-info' => TRUE),
      '<a class="btn-warning" />' => array('btn-warning' => TRUE),
      '<a class="btn-danger" />' => array('btn-danger' => TRUE),
      '<a class="btn-lg" />' => array('btn-lg' => TRUE),
      '<a class="btn-sm" />' => array('btn-sm' => TRUE),
      '<a class="btn-xs" />' => array('btn-xs' => TRUE),
      '<a class="btn-block" />' => array('btn-block' => TRUE),
      '<a class="active" />' => array('active' => TRUE),
      '<a class="disabled" />' => array('disabled' => TRUE),
      '<img class="img-rounded" />' => array('img-rounded' => TRUE),
      '<img class="img-circle" />' => array('img-circle' => TRUE),
      '<img class="img-thumbnail" />' => array('img-thumbnail' => TRUE),
      '<span class="caret" />' => array('caret' => TRUE),
      '<div class="pull-left" />' => array('pull-left' => TRUE),
      '<div class="pull-right" />' => array('pull-right' => TRUE),
      '<div class="center-block" />' => array('center-block' => TRUE),
      '<div class="clearfix" />' => array('clearfix' => TRUE),
      '<div class="show" />' => array('show' => TRUE),
      '<div class="hidden" />' => array('hidden' => TRUE),
      '<div class="sr-only" />' => array('sr-only' => TRUE),
      '<div class="text-hide" />' => array('text-hide' => TRUE),
      '<div class="visible-xs" />' => array('visible-xs' => TRUE),
      '<div class="visible-sm" />' => array('visible-sm' => TRUE),
      '<div class="visible-md" />' => array('visible-md' => TRUE),
      '<div class="visible-lg" />' => array('visible-lg' => TRUE),
      '<div class="hidden-xs" />' => array('hidden-xs' => TRUE),
      '<div class="hidden-sm" />' => array('hidden-sm' => TRUE),
      '<div class="hidden-md" />' => array('hidden-md' => TRUE),
      '<div class="hidden-lg" />' => array('hidden-lg' => TRUE),
      '<div class="visible-print" />' => array('visible-print' => TRUE),
      '<div class="hidden-print" />' => array('hidden-print' => TRUE),

    );
    $this->assertFilteredString($filter, $tests);
  }

  /** Copied from filter.test */
  function assertFilteredString($filter, $tests) {
    foreach ($tests as $source => $tasks) {
      $result = check_markup($source, $filter);
      foreach ($tasks as $value => $is_expected) {
        // Not using assertIdentical, since combination with strpos() is hard to grok.
        if ($is_expected) {
          $success = $this->assertTrue(strpos($result, $value) !== FALSE, format_string('@source: @value found.', array(
            '@source' => var_export($source, TRUE),
            '@value' => var_export($value, TRUE),
          )));
        }
        else {
          $success = $this->assertTrue(strpos($result, $value) === FALSE, format_string('@source: @value not found.', array
(
            '@source' => var_export($source, TRUE),
            '@value' => var_export($value, TRUE),
          )));
        }
        if (!$success) {
          $this->verbose('Source:<pre>' . check_plain(var_export($source, TRUE)) . '</pre>'
            . '<hr />' . 'Result:<pre>' . check_plain(var_export($result, TRUE)) . '</pre>'
            . '<hr />' . ($is_expected ? 'Expected:' : 'Not expected:')
            . '<pre>' . check_plain(var_export($value, TRUE)) . '</pre>'
          );
        }
      }
    }
  }

}
